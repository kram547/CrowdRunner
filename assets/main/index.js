System.register("chunks:///_virtual/CameraFollow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,r,i,n,a,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Node,s=e.Vec3,c=e.Component}],execute:function(){var u,p,f,h,d,g,m;n._RF.push({},"35b3fIkLLFFEYjcnJb7mM09","CameraFollow",void 0);var b=a.ccclass,y=a.property;e("CameraFollow",(u=b("CameraFollow"),p=y(l),u((d=t((h=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"target",d,i(t)),r(t,"offset",g,i(t)),r(t,"smoothSpeed",m,i(t)),t}return o(t,e),t.prototype.update=function(e){if(this.target){var t=this.target.getPosition().clone();t.add(this.offset);var o=this.node.getPosition();s.lerp(o,o,t,e*this.smoothSpeed),this.node.setPosition(o)}},t}(c)).prototype,"target",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"offset",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s(0,8,-15)}}),m=t(h.prototype,"smoothSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),f=h))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,n,o,s,i,l,c,u,v,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,i=e.Node,l=e.Button,c=e.tween,u=e.Vec3,v=e.game,g=e.Component}],execute:function(){var m,h,p,O,f;o._RF.push({},"4294588AplGe4Rm3gWGdL6C","GameOverUI",void 0);var P=s.ccclass,B=s.property;e("GameOverUI",(m=P("GameOverUI"),h=B(i),m((f=t((O=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,a(t,"gameOverPanel",f,n(t)),t.restartButton=null,t}r(t,e);var o=t.prototype;return o.start=function(){if(this.gameOverPanel)if(this.gameOverPanel.active=!1,console.log("‚úÖ GameOverPanel —Å–∫—Ä—ã—Ç –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ"),this.restartButton=this.gameOverPanel.getChildByName("RestartButton"),this.restartButton){var e=this.restartButton.getComponent(l);e&&(e.node.on(l.EventType.CLICK,this.onRestartClicked,this),console.log("‚úÖ –ö–Ω–æ–ø–∫–∞ Restart –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞"))}else console.warn("‚ö†Ô∏è RestartButton –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ GameOverPanel");else console.error("‚ùå gameOverPanel –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω –≤ Inspector!")},o.showGameOver=function(){console.log("üî¥ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Game Over Screen"),this.gameOverPanel?(this.gameOverPanel.active=!0,this.gameOverPanel.setScale(.8,.8,1),c(this.gameOverPanel).to(.3,{scale:new u(1,1,1)},{easing:"backOut"}).start(),console.log("‚úÖ GameOverPanel.active = true")):console.error("‚ùå gameOverPanel = null! –ü—Ä–æ–≤–µ—Ä—å Inspector –Ω–∞ Canvas")},o.onRestartClicked=function(){var e=this;console.log("üîÑ –ö–Ω–æ–ø–∫–∞ Restart –Ω–∞–∂–∞—Ç–∞"),this.restartButton?c(this.restartButton).to(.1,{scale:new u(.9,.9,1)},{easing:"sineOut"}).to(.1,{scale:new u(1,1,1)},{easing:"backOut"}).call((function(){e.restartGame()})).start():this.restartGame()},o.restartGame=function(){console.log("üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É —á–µ—Ä–µ–∑ game.restart()..."),v.restart()},o.onDestroy=function(){this.restartButton&&this.restartButton.isValid&&(this.restartButton.off(l.EventType.CLICK,this.onRestartClicked,this),console.log("‚úÖ –û—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç –∫–Ω–æ–ø–∫–∏ Restart"))},t}(g)).prototype,"gameOverPanel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=O))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Gate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,l,u,s,p,c,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,u=e.SpriteFrame,s=e.Node,p=e.BoxCollider,c=e.MeshRenderer,d=e.Color,h=e.Component}],execute:function(){var b,m,f,y,g,v,S,w,x,C,P,T,z,G,M,W,F,I,D,L,R,_,H,N;a._RF.push({},"705440y+rVIK6bSVmy8Q5ka","Gate",void 0);var k=l.ccclass,B=l.property;e("Gate",(b=k("Gate"),m=B({type:String}),f=B({type:u}),y=B({type:u}),g=B({type:[u],tooltip:"–ú–∞—Å—Å–∏–≤ —Ü–∏—Ñ—Ä: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]"}),v=B({type:s}),S=B({type:s}),w=B({tooltip:"–í–∫–ª—é—á–∏—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ª–µ–≤–æ-–≤–ø—Ä–∞–≤–æ"}),x=B({tooltip:"–®–∏—Ä–∏–Ω–∞ –¥–æ—Ä–æ–≥–∏"}),C=B({tooltip:"–®–∏—Ä–∏–Ω–∞ –≤–æ—Ä–æ—Ç"}),b((z=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"gateType",z,o(t)),n(t,"value",G,o(t)),n(t,"addColor",M,o(t)),n(t,"subtractColor",W,o(t)),n(t,"plusSprite",F,o(t)),n(t,"minusSprite",I,o(t)),n(t,"numberSprites",D,o(t)),n(t,"textPlane",L,o(t)),n(t,"numberPlane",R,o(t)),n(t,"enableMovement",_,o(t)),n(t,"roadWidth",H,o(t)),n(t,"gateWidth",N,o(t)),t.collider=null,t.currentSpeed=0,t.direction=1,t}i(t,e);var a=t.prototype;return a.start=function(){this.collider=this.node.getComponent(p),this.collider&&(this.collider.isTrigger=!0);var e=.375*(this.roadWidth-this.gateWidth)*2;this.direction=Math.random()<.5?1:-1,this.currentSpeed=e*this.direction,console.log("Gate linear movement: speed="+e.toFixed(2)+", direction="+(this.direction>0?"RIGHT":"LEFT")),this.updateGateColor(),this.applySignTexture(),this.applyNumberTexture()},a.update=function(e){if(this.enableMovement){var t=this.roadWidth/2-this.gateWidth/2,i=-t,r=this.node.position,n=r.x+this.currentSpeed*e;n>t?(n=t,this.direction=-1,this.currentSpeed=Math.abs(this.currentSpeed)*this.direction):n<i&&(n=i,this.direction=1,this.currentSpeed=Math.abs(this.currentSpeed)*this.direction),this.node.setPosition(n,r.y,r.z)}},a.updateGateColor=function(){for(var e,t=this.node.getComponentsInChildren(c),i="add"===this.gateType?this.addColor:this.subtractColor,n=r(t);!(e=n()).done;){var o=e.value;if(o.node!==this.textPlane&&o.node!==this.numberPlane){var a=o.material;a&&a.setProperty("mainColor",i)}}},a.applySignTexture=function(){if(this.textPlane){var e="add"===this.gateType?this.plusSprite:this.minusSprite;if(e){var t=e.texture,i=this.textPlane.getComponent(c);i&&i.material&&(i.material.setProperty("mainTexture",t),console.log("‚úÖ –ó–Ω–∞–∫: "+("add"===this.gateType?"+":"-")))}}},a.applyNumberTexture=function(){if(this.numberPlane){var e=Math.abs(this.value);if(e<0||e>=this.numberSprites.length)console.warn("Gate: –Ω–µ—Ç —Å–ø—Ä–∞–π—Ç–∞ –¥–ª—è —Ü–∏—Ñ—Ä—ã "+e+" (value="+this.value+")");else{var t=this.numberSprites[e];if(t){var i=t.texture,r=this.numberPlane.getComponent(c);r&&r.material&&(r.material.setProperty("mainTexture",i),console.log("‚úÖ –¶–∏—Ñ—Ä–∞: "+e+" (—Ä–µ–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: "+this.value+")"))}else console.warn("Gate: —Å–ø—Ä–∞–π—Ç –¥–ª—è —Ü–∏—Ñ—Ä—ã "+e+" –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω (value="+this.value+")")}}},a.onDestroy=function(){console.log("Gate "+this.gateType+" destroyed")},t}(h)).prototype,"gateType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"add"}}),G=t(T.prototype,"value",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),M=t(T.prototype,"addColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(80,255,100,255)}}),W=t(T.prototype,"subtractColor",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d(255,80,80,255)}}),F=t(T.prototype,"plusSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"minusSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"numberSprites",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(T.prototype,"textPlane",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(T.prototype,"numberPlane",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(T.prototype,"enableMovement",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=t(T.prototype,"roadWidth",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),N=t(T.prototype,"gateWidth",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),P=T))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/GateSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,a,n,r,o,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.Prefab,s=t.instantiate,u=t.Component}],execute:function(){var c,h,p,b,g,d,f,y,m,S,w,T,v,V,A,z,x,G,C,P,D,R;r._RF.push({},"f4e73Ba6JhFQI6Xt7WOAw+3","GateSpawner",void 0);var B=o.ccclass,U=o.property;t("GateSpawner",(c=B("GateSpawner"),h=U(l),p=U({tooltip:"–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è add –≤–æ—Ä–æ—Ç"}),b=U({tooltip:"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è add –≤–æ—Ä–æ—Ç"}),g=U({tooltip:"–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è subtract –≤–æ—Ä–æ—Ç (–≤–æ—Ä–æ—Ç–∞ –æ—Ç -9 –¥–æ -5)"}),d=U({tooltip:"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è subtract –≤–æ—Ä–æ—Ç (–≤–æ—Ä–æ—Ç–∞ –æ—Ç -9 –¥–æ -5)"}),f=U({tooltip:"–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å SUBTRACT (–∫—Ä–∞—Å–Ω—ã—Ö) –≤–æ—Ä–æ—Ç (0.0-1.0). 0.7 = 70% –∫—Ä–∞—Å–Ω—ã—Ö, 30% —Å–∏–Ω–∏—Ö"}),c((S=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"gatePrefab",S,n(e)),a(e,"spawnInterval",w,n(e)),a(e,"gateSpeed",T,n(e)),a(e,"roadWidth",v,n(e)),a(e,"gateWidth",V,n(e)),a(e,"initialGatesCount",A,n(e)),a(e,"initialGatesStartZ",z,n(e)),a(e,"randomRangeMultiplier",x,n(e)),a(e,"minAddValue",G,n(e)),a(e,"maxAddValue",C,n(e)),a(e,"minSubtractValue",P,n(e)),a(e,"maxSubtractValue",D,n(e)),a(e,"subtractProbability",R,n(e)),e.timer=0,e.gateSpacing=0,e.gateCounter=0,e.playerController=null,e.recentAddValues=[],e.recentSubtractValues=[],e.maxHistorySize=2,e.recentTypes=[],e.maxTypeHistory=2,e}i(e,t);var r=e.prototype;return r.start=function(){this.gateSpacing=this.gateSpeed*this.spawnInterval,console.log("Gate spacing: "+this.gateSpacing.toFixed(2)+" units"),console.log("‚úÖ Subtract range: "+this.minSubtractValue+" to "+this.maxSubtractValue+" (–≤–æ—Ä–æ—Ç–∞ –æ—Ç -"+this.maxSubtractValue+" –¥–æ -"+this.minSubtractValue+")"),console.log("‚úÖ –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫—Ä–∞—Å–Ω—ã—Ö (SUBTRACT): "+(100*this.subtractProbability).toFixed(0)+"%"),console.log("‚úÖ –ü–æ–≤—Ç–æ—Ä—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —á–µ—Ä–µ–∑ "+this.maxHistorySize+" –≤–æ—Ä–æ—Ç");var t=this.node.parent.getChildByName("Player");t&&(this.playerController=t.getComponent("PlayerController")),this.spawnInitialGates()},r.update=function(t){var e=this;if(this.timer+=t,this.timer>=this.spawnInterval){var i=-1/0;this.node.children.forEach((function(t){t.active&&t.position.z>i&&(i=t.position.z)})),i>-1/0&&this.spawnSingleGate(i+this.gateSpacing),this.timer=0}[].concat(this.node.children).forEach((function(i){if(i.active){var a=i.position.clone();a.z-=e.gateSpeed*t,i.setPosition(a),i.position.z<-20&&i.destroy()}}))},r.spawnInitialGates=function(){for(var t=0;t<this.initialGatesCount;t++){var e=this.initialGatesStartZ+t*this.gateSpacing;this.spawnSingleGate(e)}},r.spawnSingleGate=function(t){if(this.gatePrefab){var e=(this.roadWidth-this.gateWidth)*this.randomRangeMultiplier,i=(Math.random()-.5)*e,a=s(this.gatePrefab);a.setParent(this.node),a.setPosition(i,0,t);var n,r,o=a.getComponent("Gate");if(o)0===this.gateCounter?(n=!0,console.log("üîµ –ü–ï–†–í–´–ï –í–û–†–û–¢–ê: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ ADD")):n=this.shouldBeAddGate(),o.gateType=n?"add":"subtract",this.recentTypes.push(o.gateType),this.recentTypes.length>this.maxTypeHistory&&this.recentTypes.shift(),n?(r=this.getUniqueValue(this.minAddValue,this.maxAddValue,this.recentAddValues),console.log("üîµ ADD gate: value="+r+", recent=["+this.recentAddValues.join(", ")+"]")):(r=this.getUniqueValue(this.minSubtractValue,this.maxSubtractValue,this.recentSubtractValues),console.log("üî¥ SUBTRACT gate: value="+r+" (–≤–æ—Ä–æ—Ç–∞: -"+r+"), range=["+this.minSubtractValue+"-"+this.maxSubtractValue+"], recent=["+this.recentSubtractValues.join(", ")+"]")),o.value=r,this.gateCounter++,console.log("Gate #"+this.gateCounter+" created: "+o.gateType+" "+(n?"+":"-")+o.value+" at Z="+t.toFixed(2))}else console.error("Gate Prefab not assigned!")},r.shouldBeAddGate=function(){if(this.recentTypes.length>=2&&"add"===this.recentTypes[this.recentTypes.length-1]&&"add"===this.recentTypes[this.recentTypes.length-2])return console.log("üö´ –ü–æ—Å–ª–µ–¥–Ω–∏–µ 2 –±—ã–ª–∏ ADD ‚Üí –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ SUBTRACT"),!1;if(this.recentTypes.length>=2&&"subtract"===this.recentTypes[this.recentTypes.length-1]&&"subtract"===this.recentTypes[this.recentTypes.length-2])return console.log("üö´ –ü–æ—Å–ª–µ–¥–Ω–∏–µ 2 –±—ã–ª–∏ SUBTRACT ‚Üí –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ ADD"),!0;var t=Math.random();return t<this.subtractProbability?(console.log("üé≤ Random: "+t.toFixed(2)+" < "+this.subtractProbability+" ‚Üí SUBTRACT"),!1):(console.log("üé≤ Random: "+t.toFixed(2)+" >= "+this.subtractProbability+" ‚Üí ADD"),!0)},r.getUniqueValue=function(t,e,i){var a,n=e-t+1;if(n<=1)return console.warn("‚ö†Ô∏è –î–∏–∞–ø–∞–∑–æ–Ω ["+t+"-"+e+"] = "+n+" –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–≤—Ç–æ—Ä—ã –Ω–µ–∏–∑–±–µ–∂–Ω—ã!"),t;n<=i.length&&console.warn("‚ö†Ô∏è –î–∏–∞–ø–∞–∑–æ–Ω ["+t+"-"+e+"] = "+n+" –∑–Ω–∞—á–µ–Ω–∏–π, –∏—Å—Ç–æ—Ä–∏—è = "+this.maxHistorySize+", –ø–æ–≤—Ç–æ—Ä—ã –≤–æ–∑–º–æ–∂–Ω—ã");var r=0;do{a=Math.floor(Math.random()*n)+t,r++}while(i.includes(a)&&r<50);return r>=50&&console.warn("‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞ 50 –ø–æ–ø—ã—Ç–æ–∫, –≤–∑—è–ª–∏ "+a),i.push(a),i.length>this.maxHistorySize&&i.shift(),a},e}(u)).prototype,"gatePrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(m.prototype,"spawnInterval",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.25}}),T=e(m.prototype,"gateSpeed",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=e(m.prototype,"roadWidth",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),V=e(m.prototype,"gateWidth",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),A=e(m.prototype,"initialGatesCount",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),z=e(m.prototype,"initialGatesStartZ",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),x=e(m.prototype,"randomRangeMultiplier",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),G=e(m.prototype,"minAddValue",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),C=e(m.prototype,"maxAddValue",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),P=e(m.prototype,"minSubtractValue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),D=e(m.prototype,"maxSubtractValue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),R=e(m.prototype,"subtractProbability",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.7}}),y=m))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CameraFollow.ts","./GameOverUI.ts","./Gate.ts","./GateSpawner.ts","./PlayerController.ts","./StartScreen.ts","./Stickman.ts","./TiltEffect.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,a,s,l,c,u,h,d,p,f,v,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.Node,u=e.BoxCollider,h=e.input,d=e.Input,p=e.find,f=e.instantiate,v=e.tween,g=e.Vec3,m=e.Component}],execute:function(){var w,C,b,y,G,O,T,E,P,z,k,x;a._RF.push({},"5d956aDRnZCkrR9xaSOmaWT","PlayerController",void 0);var S=s.ccclass,M=s.property;e("PlayerController",(w=S("PlayerController"),C=M(l),w((G=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"stickmanPrefab",G,r(t)),o(t,"horizontalSpeed",O,r(t)),o(t,"initialCrowdCount",T,r(t)),o(t,"stickmanRadius",E,r(t)),o(t,"magneticForce",P,r(t)),o(t,"maxCrowdRadius",z,r(t)),o(t,"spawnAnimationDuration",k,r(t)),o(t,"despawnAnimationDuration",x,r(t)),t.crowd=[],t.targetX=0,t.collider=null,t.processedGates=new Set,t.crowdContainer=null,t.isGameOver=!1,t.isPaused=!1,t}n(t,e);var a=t.prototype;return a.start=function(){this.crowdContainer=this.node.getChildByName("CrowdContainer"),this.crowdContainer||(console.warn("CrowdContainer –Ω–µ –Ω–∞–π–¥–µ–Ω! –°–æ–∑–¥–∞—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏."),this.crowdContainer=new c("CrowdContainer"),this.crowdContainer.setParent(this.node));for(var e=0;e<this.initialCrowdCount;e++)this.addStickman();this.collider=this.node.getComponent(u),this.collider&&(this.collider.isTrigger=!0,this.collider.on("onTriggerEnter",this.onTriggerEnter,this),console.log("‚úÖ BoxCollider –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ onTriggerEnter")),h.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(d.EventType.TOUCH_END,this.onTouchEnd,this)},a.onDestroy=function(){h.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),h.off(d.EventType.TOUCH_END,this.onTouchEnd,this),this.collider&&this.collider.off("onTriggerEnter",this.onTriggerEnter,this)},a.onTouchMove=function(e){if(!this.isGameOver&&!this.isPaused){var t=e.getDelta();this.targetX-=.025*t.x,this.targetX=Math.max(-4,Math.min(4,this.targetX))}},a.onTouchEnd=function(e){},a.update=function(e){if(!this.isGameOver&&!this.isPaused){var t=this.node.position,n=t.x+(this.targetX-t.x)*this.horizontalSpeed*e;this.node.setPosition(n,t.y,t.z),this.applyMagneticEffect(e)}},a.applyMagneticEffect=function(e){for(var t,n=i(this.crowd);!(t=n()).done;){var o=t.value;if(o&&o.isValid){var r=o.position,a=Math.sqrt(r.x*r.x+r.z*r.z);if(a>.1){var s=this.magneticForce*(a/this.maxCrowdRadius),l=r.x-r.x/a*s*e,c=r.z-r.z/a*s*e;o.setPosition(l,0,c)}this.avoidOverlap(o)}}},a.avoidOverlap=function(e){for(var t,n=e.position,o=1.2*this.stickmanRadius,r=i(this.crowd);!(t=r()).done;){var a=t.value;if(a!==e&&a.isValid){var s=a.position,l=n.x-s.x,c=n.z-s.z,u=Math.sqrt(l*l+c*c);if(u<o&&u>.01){var h=.2*(o-u),d=l/u*h,p=c/u*h;e.setPosition(n.x+d,0,n.z+p)}}}},a.onTriggerEnter=function(e){var t=this,n=e.otherCollider.node;if(console.log("üî• onTriggerEnter —Å—Ä–∞–±–æ—Ç–∞–ª!",n.name),this.processedGates.has(n))console.log("‚ö†Ô∏è –í–æ—Ä–æ—Ç–∞ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã:",n.name);else{var i=n.getComponent("Gate");if(!i&&n.parent&&(console.log("üîç –ò—â–µ–º Gate –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–µ:",n.parent.name),i=n.parent.getComponent("Gate")),i){console.log("‚úÖ onTriggerEnter: Player –ø—Ä–æ—à–µ–ª —á–µ—Ä–µ–∑ –≤–æ—Ä–æ—Ç–∞ "+i.gateType+" "+(i.value>0?"+":"")+i.value),this.applyGateEffect(i.gateType,i.value);var o=i.node;this.processedGates.add(o),this.scheduleOnce((function(){t.processedGates.delete(o)}),2)}else console.warn("‚ö†Ô∏è Gate –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ –Ω–æ–¥–µ:",n.name)}},a.applyGateEffect=function(e,t){var n=this.getCrowdCount(),i=n;if("add"===e?(i=n+t,console.log("‚ûï –î–æ–±–∞–≤–ª—è–µ–º "+t+" —á–µ–ª–æ–≤–µ—á–∫–æ–≤. –ë—ã–ª–æ: "+n+", —Å—Ç–∞–ª–æ: "+i)):"subtract"===e&&(i=n-t,console.log("‚ûñ –£–¥–∞–ª—è–µ–º "+t+" —á–µ–ª–æ–≤–µ—á–∫–æ–≤. –ë—ã–ª–æ: "+n+", —Å—Ç–∞–ª–æ: "+i)),i<1)return console.log("üíÄ Game Over! –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–µ–ª–æ–≤–µ—á–∫–æ–≤!"),void this.gameOver();this.setCrowdCount(i)},a.gameOver=function(){this.isGameOver=!0,this.isPaused=!0,console.log("üíÄ Game Over –≤—ã–∑–≤–∞–Ω!"),this.pauseStickmen(),this.pauseGates();var e=p("Canvas");if(e){var t=e.getComponent("GameOverUI");t?(t.showGameOver(),console.log("‚úÖ GameOverUI.showGameOver() –≤—ã–∑–≤–∞–Ω")):console.error("‚ùå GameOverUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ Canvas! –ü—Ä–æ–≤–µ—Ä—å Inspector")}else console.error("‚ùå Canvas –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å—Ü–µ–Ω–µ!")},a.pauseStickmen=function(){for(var e,t=i(this.crowd);!(e=t()).done;){var n=e.value;if(n&&n.isValid){var o=n.getComponent("Stickman");o&&(o.enabled=!1)}}console.log("üõë Stickman –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã")},a.pauseGates=function(){var e=p("GateSpawner");if(e){var t=e.getComponent("GateSpawner");t&&(t.enabled=!1,console.log("üõë GateSpawner –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"));for(var n=0;n<e.children.length;n++){var i=e.children[n].getComponent("Gate");i&&(i.enabled=!1)}}},a.addStickman=function(){var e=f(this.stickmanPrefab);e.setParent(this.crowdContainer);var t=Math.random()*Math.PI*2,n=.6*Math.random();e.setPosition(Math.cos(t)*n,0,Math.sin(t)*n),e.setScale(0,0,0),v(e).to(this.spawnAnimationDuration,{scale:new g(1,1,1)},{easing:"backOut"}).start(),this.crowd.push(e)},a.removeStickman=function(){if(this.crowd.length>1){var e=this.crowd.pop();v(e).to(this.despawnAnimationDuration,{scale:new g(0,0,0)},{easing:"backIn"}).call((function(){e&&e.isValid&&e.destroy()})).start()}},a.setCrowdCount=function(e){var t=this;e=Math.max(1,e);var n=this.crowd.length;if(e>n)for(var i=0;i<e-n;i++)this.scheduleOnce((function(){t.addStickman()}),.05*i);else if(e<n)for(var o=0;o<n-e;o++)this.scheduleOnce((function(){t.removeStickman()}),.05*o)},a.getCrowdCount=function(){return this.crowd.length},t}(m)).prototype,"stickmanPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(y.prototype,"horizontalSpeed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),T=t(y.prototype,"initialCrowdCount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),E=t(y.prototype,"stickmanRadius",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),P=t(y.prototype,"magneticForce",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),z=t(y.prototype,"maxCrowdRadius",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),k=t(y.prototype,"spawnAnimationDuration",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),x=t(y.prototype,"despawnAnimationDuration",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),b=y))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/StartScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a,o,i,l,s,c,u,p,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,s=e.Node,c=e.input,u=e.Input,p=e.director,d=e.Component}],execute:function(){var h,f,S,g,v,y,m;i._RF.push({},"d9de0fh5jxGepOmt5WLarql","StartScreen",void 0);var G=l.ccclass,T=l.property;e("StartScreen",(h=G("StartScreen"),f=T(s),S=T(s),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,a(t,"player",y,o(t)),a(t,"gateSpawner",m,o(t)),t.gameStarted=!1,t}n(t,e);var i=t.prototype;return i.start=function(){if(console.log("StartScreen loaded. Tap to start!"),this.gateSpawner){var e=this.gateSpawner.getComponent("GateSpawner");e&&(e.enabled=!1,console.log("GateSpawner disabled"))}this.pauseAllGates()},i.onDestroy=function(){c.off(u.EventType.TOUCH_START,this.onTouchStart,this)},i.onEnable=function(){c.on(u.EventType.TOUCH_START,this.onTouchStart,this)},i.onTouchStart=function(e){if(!this.gameStarted){if(console.log("Game started!"),this.gameStarted=!0,this.player){var t=this.player.getComponent("PlayerController");t&&(t.controlEnabled=!0,console.log("PlayerController enabled"))}if(this.gateSpawner){var n=this.gateSpawner.getComponent("GateSpawner");n&&(n.enabled=!0,console.log("GateSpawner enabled"))}this.resumeAllGates(),c.off(u.EventType.TOUCH_START,this.onTouchStart,this)}},i.pauseAllGates=function(){var e=p.getScene().children;this.findAndPauseGates(e)},i.resumeAllGates=function(){var e=p.getScene().children;this.findAndResumeGates(e)},i.findAndPauseGates=function(e){for(var t,n=r(e);!(t=n()).done;){var a=t.value,o=a.getComponent("Gate");o&&(o.enabled=!1),a.children.length>0&&this.findAndPauseGates(a.children)}},i.findAndResumeGates=function(e){for(var t,n=r(e);!(t=n()).done;){var a=t.value,o=a.getComponent("Gate");o&&(o.enabled=!0),a.children.length>0&&this.findAndResumeGates(a.children)}},t}(d)).prototype,"player",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(v.prototype,"gateSpawner",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/Stickman.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,r,n,o,l,a,s,u,c,p,h;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,r=i.createForOfIteratorHelperLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){l=i.cclegacy,a=i._decorator,s=i.find,u=i.math,c=i.Vec3,p=i.Quat,h=i.Component}],execute:function(){var d,f,b,v,m,g,y,T,P,S,z,x,w,k,F,R,A;l._RF.push({},"e8f8frXY4NFAIKFGTKslur0","Stickman",void 0);var X=a.ccclass,L=a.property;i("Stickman",(d=X("Stickman"),f=L({tooltip:"–ê–º–ø–ª–∏—Ç—É–¥–∞ –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è"}),b=L({tooltip:"–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∑–∞ 0.5 —Å–µ–∫)"}),v=L({tooltip:"–†–∞–¥–∏—É—Å —á–µ–ª–æ–≤–µ—á–∫–∞ –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ —Å—Ç–æ–ª–±–∏–∫–æ–≤"}),m=L({tooltip:"–†–∞–¥–∏—É—Å —Å—Ç–æ–ª–±–∏–∫–∞ –≤–æ—Ä–æ—Ç"}),g=L({tooltip:"–°–∏–ª–∞ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏—è –æ—Ç —Å—Ç–æ–ª–±–∏–∫–æ–≤"}),d((P=t((T=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=i.call.apply(i,[this].concat(r))||this,n(t,"maxTiltAngle",P,o(t)),n(t,"tiltSpeed",S,o(t)),n(t,"returnSpeed",z,o(t)),n(t,"bounceStrength",x,o(t)),n(t,"bounceHeight",w,o(t)),n(t,"bounceSpeed",k,o(t)),n(t,"stickmanRadius",F,o(t)),n(t,"pillarRadius",R,o(t)),n(t,"pushForce",A,o(t)),t.previousX=0,t.velocityX=0,t.currentTiltZ=0,t.tiltVelocity=0,t.bounceTime=0,t.bounceOffset=0,t.initialY=0,t.activePillars=[],t.pillarUpdateTimer=0,t}e(t,i);var l=t.prototype;return l.start=function(){var i,t=null==(i=this.node.parent)?void 0:i.parent;t&&(this.previousX=t.position.x),this.bounceOffset=Math.random(),this.initialY=this.node.position.y,this.updatePillarsList()},l.updatePillarsList=function(){var i=s("GateSpawner");if(i){this.activePillars=[];for(var t=0;t<i.children.length;t++){var e=i.children[t],r=e.getChildByName("LeftPillar"),n=e.getChildByName("RightPillar");r&&r.active&&this.activePillars.push(r),n&&n.active&&this.activePillars.push(n)}}},l.update=function(i){var t,e=null==(t=this.node.parent)?void 0:t.parent;if(e){this.pillarUpdateTimer+=i,this.pillarUpdateTimer>.5&&(this.updatePillarsList(),this.pillarUpdateTimer=0);var r=e.position.x;this.velocityX=(r-this.previousX)/i,this.previousX=r;var n=u.clamp(3*this.velocityX,-this.maxTiltAngle,this.maxTiltAngle)-this.currentTiltZ;Math.abs(this.velocityX)>.5?this.tiltVelocity+=n*this.tiltSpeed*i:this.tiltVelocity+=n*this.returnSpeed*i,this.tiltVelocity*=1-this.bounceStrength,this.currentTiltZ+=this.tiltVelocity*i*60,this.currentTiltZ=u.clamp(this.currentTiltZ,1.2*-this.maxTiltAngle,1.2*this.maxTiltAngle);var o=this.node.rotation,l=new c;o.getEulerAngles(l),l.z=this.currentTiltZ;var a=new p;p.fromEuler(a,l.x,l.y,l.z),this.node.setRotation(a),this.bounceTime+=i*this.bounceSpeed;var s=(this.bounceTime+this.bounceOffset)%1,h=(2*(s<.5?2*s:2-2*s)-1)*this.bounceHeight;this.checkPillarCollisions();var d=this.node.position;this.node.setPosition(d.x,this.initialY+h,d.z)}},l.checkPillarCollisions=function(){for(var i,t=this.node.worldPosition,e=this.stickmanRadius+this.pillarRadius,n=r(this.activePillars);!(i=n()).done;){var o=i.value;if(o&&o.isValid&&o.active){var l=o.worldPosition,a=t.x-l.x,s=t.z-l.z,u=Math.sqrt(a*a+s*s);if(u<e&&u>.01){var c=a/u,p=s/u,h=(e-u)*this.pushForce,d=this.node.position;this.node.setPosition(d.x+c*h*.016,d.y,d.z+p*h*.016),console.log("‚¨ÖÔ∏è –û—Ç—Ç–æ–ª–∫–Ω—É–ª–∏ –æ—Ç "+o.name+": dist="+u.toFixed(2)+", push="+h.toFixed(2))}}}},t}(h)).prototype,"maxTiltAngle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),S=t(T.prototype,"tiltSpeed",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),z=t(T.prototype,"returnSpeed",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),x=t(T.prototype,"bounceStrength",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),w=t(T.prototype,"bounceHeight",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),k=t(T.prototype,"bounceSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),F=t(T.prototype,"stickmanRadius",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),R=t(T.prototype,"pillarRadius",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),A=t(T.prototype,"pushForce",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),y=T))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/TiltEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,l,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.math,c=t.Vec3,s=t.Quat,u=t.Component}],execute:function(){var p,h,f,y,g,v,b,d,T,m,S;o._RF.push({},"22a66YFS6tGJJjOjTXMCyp0","TiltEffect",void 0);var x=l.ccclass,X=l.property;t("TiltEffect",(p=x("TiltEffect"),h=X({tooltip:"ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ (ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ)"}),f=X({tooltip:"ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ"}),y=X({tooltip:"ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ"}),g=X({tooltip:"ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ (bounce)"}),p((d=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"maxTiltAngle",d,n(e)),r(e,"tiltSpeed",T,n(e)),r(e,"returnSpeed",m,n(e)),r(e,"bounceStrength",S,n(e)),e.previousX=0,e.velocityX=0,e.currentTiltZ=0,e.tiltVelocity=0,e}i(e,t);var o=e.prototype;return o.start=function(){this.node.parent&&(this.previousX=this.node.parent.position.x)},o.update=function(t){if(this.node.parent){var e=this.node.parent.position.x;this.velocityX=(e-this.previousX)/t,this.previousX=e;var i=a.clamp(3*this.velocityX,-this.maxTiltAngle,this.maxTiltAngle)-this.currentTiltZ;Math.abs(this.velocityX)>.5?this.tiltVelocity+=i*this.tiltSpeed*t:this.tiltVelocity+=i*this.returnSpeed*t,this.tiltVelocity*=1-this.bounceStrength,this.currentTiltZ+=this.tiltVelocity*t*60,this.currentTiltZ=a.clamp(this.currentTiltZ,1.2*-this.maxTiltAngle,1.2*this.maxTiltAngle);var r=this.node.rotation,n=new c;r.getEulerAngles(n),n.z=this.currentTiltZ;var o=new s;s.fromEuler(o,n.x,n.y,n.z),this.node.setRotation(o)}},e}(u)).prototype,"maxTiltAngle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 12}}),T=e(b.prototype,"tiltSpeed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),m=e(b.prototype,"returnSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=e(b.prototype,"bounceStrength",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),v=b))||v));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});